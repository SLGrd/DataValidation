@page "/Drawing"

<h3>Circle Size</h3>
<div>
    <input type="number" @bind="@radius" step="10" />
    <button @onclick="Grow">Flash!</button>
</div>
<svg height="@(100)" width="@(100)">
    <circle cx="@radius" cy="@radius" r="@(radius)" stroke="" stroke-width="@(radius *0.05)" fill="@color" />
    <text x="50%" y="50%" text-anchor="middle" alignment-baseline="central" fill="#fff" font-size="@(radius*0.05)px">@radius</text>
</svg>

@*svg height="@(radius*2)" width="@(radius*2)">*@
@*<circle cx="@radius" cy="@radius" r="@(radius*0.8)" stroke="" stroke-width="@(radius *0.05)" fill="@color" />*@

@code {
    double radius {get; set;} = 1;
    string color { get; set; } = "#a0a";
    Random random = new Random();

    private async  void Grow()
    {
        //random = new();
        radius = 1;
        for( int i = 0; i < 500; i += 1)
        {
            radius += 1 ;
            await Flash();  
            await Task.Delay(1);
            StateHasChanged();
        }
    }

    async Task Flash()
    {
        //for (int i=1; i<20; i++)
        //{
        //      color = String.Format("#{0:X6}", random.Next(0x1000000));
        //      await Task.Delay(1);            
        //}
    }
}
